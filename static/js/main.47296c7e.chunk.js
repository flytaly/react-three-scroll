(this["webpackJsonpreact-three-scroll"]=this["webpackJsonpreact-three-scroll"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/img1.92865698.jpg"},19:function(e,t,a){e.exports=a.p+"static/media/img2.7f16909d.jpg"},20:function(e,t,a){e.exports=a.p+"static/media/img3.5f702444.jpg"},25:function(e,t,a){e.exports=a(33)},29:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),o=a.n(c),i=a(4),l=a(18),s=a.n(l),m=a(19),f=a.n(m),u=a(20),p=a.n(u),h={sections:3,pages:3,zoom:75,top:Object(r.createRef)(),images:[s.a,f.a,p.a]},g=(a(29),a(3)),d=a(2),E=a(9),v=a(6),b=a.n(v),x=Object(r.createContext)(0);function j(e){var t=e.children,a=e.offset,c=e.factor,o=Object(E.a)(e,["children","offset","factor"]),l=O(),s=l.offset,m=l.sectionHeight,f=Object(r.useRef)();return a=void 0!==a?a:s,Object(i.c)((function(){var e=f.current.position.y,t=h.top.current;f.current.position.y=b()(e,t/h.zoom*c,.1)})),n.a.createElement(x.Provider,{value:a},n.a.createElement("group",Object.assign({},o,{position:[0,-m*a*c,0]}),n.a.createElement("group",{ref:f},t)))}function O(){var e=h.sections,t=h.pages,a=h.zoom,n=Object(i.e)(),c=n.size,o=n.viewport,l=Object(r.useContext)(x),s=o.width,m=o.height,f=s/a,u=m/a,p=c.width<700;return{viewport:o,offset:l,viewportWidth:s,viewportHeight:m,canvasWidth:f,canvasHeight:u,mobile:p,margin:f*(p?.2:.1),contentMaxWidth:f*(p?.8:.6),sectionHeight:u*((t-1)/(e-1)),offsetFactor:(l+1)/e}}var y=function(e){var t=e.color,a=void 0===t?"white":t,c=e.map,o=Object(E.a)(e,["color","map"]),l=O(),s=l.viewportHeight,m=l.offsetFactor,f=Object(r.useRef)(),u=h.top.current;return Object(i.c)((function(){var e=h.pages,t=h.top;f.current.scale=b()(f.current.scale,m-t.current/((e-1)*s),.1),f.current.shift=b()(f.current.shift,(t.current-u)/150,.1),u=t.current})),n.a.createElement("mesh",o,n.a.createElement("planeBufferGeometry",{attach:"geometry",args:[1,1,32,32]}),n.a.createElement("meshBasicMaterial",{ref:f,attach:"material",color:a,map:c}))};function w(e){var t=e.color,a=void 0===t?"black":t,r=Object(E.a)(e,["color"]);return n.a.createElement("mesh",r,n.a.createElement("boxBufferGeometry",{attach:"geometry",args:[1,1,1]}),n.a.createElement("meshNormalMaterial",{attach:"material",color:a}))}var M=function(e){var t=e.position,a=void 0===t?[0,0,2]:t,c=Object(r.useRef)(),o=O(),l=o.viewportHeight,s=o.contentMaxWidth,m=o.canvasHeight;return Object(i.c)((function(){var e=h.top.current,t=c.current.rotation.z,a=(h.pages-1)*l,r=e/a*2*Math.PI,n=b()(t,r,.1),o=s/2,i=-o,f=e/l,u=Math.floor(f);c.current.position.x=u%2===0?b()(o,i,f-u):b()(i,o,f-u),c.current.position.y=b()(m/2-1,-m/2+1,e/a),c.current.rotation.x=n,c.current.rotation.z=n})),n.a.createElement("group",{ref:c,scale:[2,2,2],position:a},n.a.createElement(w,{scale:[.3,.3,.3],rotation:new d.Euler(.5,.5,0)}))};function z(e){var t=e.left,a=e.children,r=e.map,c=O(),o=c.contentMaxWidth,i=(c.canvasWidth-o-c.margin)/2;return n.a.createElement("group",{position:[i*(t?-1:1),0,0]},n.a.createElement(y,{scale:[o,o/1.75,1],color:"#bfe2ca",map:r}),a)}function H(){var e=O().contentMaxWidth;return n.a.createElement(y,{scale:[100,e,1],rotation:[0,0,Math.PI/4],position:[0,0,-1],color:"#555555"})}function I(){var e=Object(i.d)(d.TextureLoader,h.images);console.log({textures:e});var t=e.map((function(e){return e.minFilter=d.LinearFilter,e})),a=Object(g.a)(t,3),r=a[0],c=a[1],o=a[2],l=O(),s=l.contentMaxWidth,m=l.canvasHeight,f=l.mobile,u=s*h.zoom;return n.a.createElement(n.a.Fragment,null,n.a.createElement(j,{factor:0,offset:0},n.a.createElement(M,{position:[s/2,m/2-1,2]})),n.a.createElement(j,{factor:1.5,offset:0},n.a.createElement(z,{left:!0,map:r},n.a.createElement(i.b,{style:{width:u/(f?1:2),textAlign:"left"},position:[-s/2,-s/2/1.75-.4,1]},"Image 1 text. DOM render"))),n.a.createElement(j,{factor:2,offset:1},n.a.createElement(z,{map:c,style:{zIndex:100}},n.a.createElement(i.b,{prepend:!1,style:{zIndex:100,width:u/(f?1:2),textAlign:"right"},position:[f?-s/2:0,-s/2/1.75-.4,1]},"Image 2 text. DOM render"))),n.a.createElement(j,{factor:-1,offset:1},n.a.createElement(H,null)),n.a.createElement(j,{factor:1.5,offset:2},n.a.createElement(z,{left:!0,map:o},n.a.createElement(i.b,{prepend:!0,style:{width:u/(f?1:2),textAlign:"left"},position:[-s/2,-s/2/1.75-.4,1]},"Image 3 text. DOM render"))))}function W(){var e=Object(r.useRef)();return Object(i.c)((function(){return e.current.material.opacity=b()(e.current.material.opacity,0,.025)})),n.a.createElement("mesh",{ref:e,position:[0,0,200],scale:[100,100,1]},n.a.createElement("planeBufferGeometry",{attach:"geometry"}),n.a.createElement("meshBasicMaterial",{attach:"material",color:"#dfdfdf",transparent:!0}))}var B=function(){var e=Object(r.useRef)(),t=function(e){return h.top.current=e.target.scrollTop};return Object(r.useEffect)((function(){t({target:e.current})}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:"canvas",orthographic:!0,camera:{zoom:h.zoom,position:[0,0,500]}},n.a.createElement(r.Suspense,{fallback:n.a.createElement(i.b,{center:!0,className:"loading",children:"Loading..."})},n.a.createElement(I,null),n.a.createElement(W,null))),n.a.createElement("div",{className:"scrollArea",ref:e,onScroll:t},n.a.createElement("div",{style:{height:"".concat(100*h.pages,"vh")}})))};o.a.render(n.a.createElement(B,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.47296c7e.chunk.js.map